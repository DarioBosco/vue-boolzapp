<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<!-- FontAwesome -->
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" integrity="sha512-1ycn6IcaQQ40/MKBW2W4Rhis/DbILU74C1vSrLJxCq57o941Ym01SwNsOMqvEBFlcgUa6xLiPY/NS5R+E6ztJQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
		<!-- CSS -->
		<link rel="stylesheet" href="./src/css/style.css" />

		<title>Boolzapp</title>
	</head>

	<body>
		<div class="wrapper">
			<div id="app" class="container">
				<div class="container-left">
					<div class="header">
						<div class="avatar header-avatar">
							<img :src="'./src/img/avatar' + user.avatar + '.jpg'" alt="" />
							<div class="details">
								<div class="name">{{user.name}}</div>
							</div>
						</div>
						<div class="buttons">
							<i class="fas fa-circle-notch"></i>
							<i class="fas fa-comment-alt"></i>
							<i class="fas fa-ellipsis-v"></i>
						</div>
					</div>
					<div class="banner">
						<div class="banner-icon">
							<i class="fas fa-bell-slash"></i>
						</div>
						<div class="banner-text">
							<p>Ricevi notifiche di nuovi messaggi</p>
							<a class="banner-link" href="#">Attiva notifiche desktop</a>
						</div>
					</div>
					<div class="search">
						<label for="searchChat"><i class="fas fa-search"></i></label>
						<input type="text" id="searchChat" name="searchChat" placeholder="Cerca o inizia una nuova chat" v-model="userLookupText" @keyup="userLookup" />
					</div>
					<div class="chats">
						<ul>
							<li v-for="(contact, index) in userLookup()" @click="getSelectedUser(index)" :class="(index == selectedUser) ? 'active' : null">
								<div class="avatar">
									<img :src="'./src/img/avatar' + contact.avatar + '.jpg'" alt="" />
								</div>
								<div class="details">
									<div class="name">{{contact.name}}</div>
									<div class="additional-info">{{contact.message}}</div>
								</div>
							</li>
						</ul>
					</div>
				</div>
				<div class="container-right">
					<div class="header">
						<div class="avatar header-avatar">
							<img :src="'./src/img/avatar' + contacts[selectedUser].avatar + '.jpg'" alt="" />
							<div class="details">
								<div class="name">{{contacts[selectedUser].name}}</div>
							</div>
						</div>
						<div class="buttons">
							<i class="fas fa-search"></i>
							<i class="fas fa-paperclip"></i>
							<i class="fas fa-ellipsis-v"></i>
						</div>
					</div>
					<div class="current-chat">
						<ul>
							<li class="message-container" v-for="message in contacts[selectedUser].messages">
								<div class="message" :class="message.status">
									{{message.message}}
									<div class="date">{{message.date}}</div>
								</div>
							</li>
						</ul>
					</div>
					<div class="message-box">
						<i class="far fa-smile"></i>
						<input type="text" id="messageBox" name="messageBox" placeholder="Scrivi un messaggio" v-model="userMessage" @keyup.Enter="sendMessage" />
						<i class="fas fa-microphone"></i>
					</div>
				</div>
			</div>
		</div>
		<script src="https://cdn.jsdelivr.net/npm/vue"></script>
		<script src="https://unpkg.com/dayjs@1.8.21/dayjs.min.js"></script>
		<script src="./src/js/main.js"></script>
	</body>
</html>
